<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tafaftire</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
body{
margin:0;
font-family:Poppins, sans-serif;
background:#1a252f;
color:white;
}

.navbar{
background:#0f1419;
padding:20px;
display:flex;
justify-content:space-between;
align-items:center;
}

.navbar h2{
margin:0;
color:#ff9f1c;
letter-spacing:2px;
}

.navbar a{
color:white;
text-decoration:none;
margin-left:20px;
}

section{
padding:80px 20px;
text-align:center;
}

.hero{
background:linear-gradient(135deg,#2c3e50,#1a252f);
}

.hero h1{
font-size:4rem;
letter-spacing:8px;
}

textarea,input{
width:100%;
padding:15px;
margin:10px 0;
border-radius:8px;
border:none;
background:#0f1419;
color:white;
}

button{
padding:15px 25px;
border:none;
border-radius:8px;
cursor:pointer;
font-weight:600;
margin:10px;
}

.predict{
background:#ff9f1c;
color:white;
}

.fact{
background:#3498db;
color:white;
}

.reset{
background:#444;
color:white;
}

.card{
background:#2c3e50;
padding:20px;
border-radius:12px;
margin-top:20px;
display:none;
}

.real{color:#2ecc71;}
.fake{color:#ff4757;}
.unverified{color:#f39c12;}

footer{
background:#0f1419;
padding:30px;
text-align:center;
margin-top:50px;
}
</style>
</head>
<body>

<div class="navbar">
<h2>TAFAFTIRE</h2>
<div>
<a href="#home">Home</a>
<a href="#detect">Detect</a>
<a href="#contact">Contact</a>
</div>
</div>

<section id="home" class="hero">
<h1>TAFAFTIRE</h1>
<p>Premium Fake News Verification System</p>
</section>

<section id="detect">
<h2>Fake News Detection</h2>

<textarea id="newsText" placeholder="Paste news text (min 20 characters)..."></textarea>

<button class="predict" id="predictBtn">
<i class="fas fa-microchip"></i> Model Predict
</button>

<button class="fact" id="factBtn">
<i class="fas fa-shield-alt"></i> Fact Check
</button>

<button class="reset" id="resetBtn">
<i class="fas fa-sync-alt"></i> Reset
</button>

<div class="card" id="aiCard">
<h3>Model Prediction</h3>
<p id="aiResult"></p>
</div>

<div class="card" id="fcCard">
<h3>Fact Check Result</h3>
<p id="fcResult"></p>
</div>

</section>

<section id="contact">
<h2>Contact</h2>

<input type="text" id="name" placeholder="Your Name">
<input type="email" id="email" placeholder="Your Email">
<textarea id="message" placeholder="Your Message"></textarea>

<button id="sendBtn" class="predict">
<i class="fas fa-paper-plane"></i> Send
</button>
</section>

<footer>
Copyright TAFAFTIRE 2026
</footer>

<script>
const API = "https://tafaftire-detection-system.onrender.com";

const predictBtn = document.getElementById("predictBtn");
const factBtn = document.getElementById("factBtn");
const resetBtn = document.getElementById("resetBtn");

const aiCard = document.getElementById("aiCard");
const fcCard = document.getElementById("fcCard");

const aiResult = document.getElementById("aiResult");
const fcResult = document.getElementById("fcResult");

function validate(text){
if(text.length < 20){
alert("Minimum 20 characters required.");
return false;
}
return true;
}

predictBtn.onclick = ()=>{
let text = document.getElementById("newsText").value.trim();
if(!validate(text)) return;

aiCard.style.display="block";
aiResult.innerHTML="⏳ Analyzing...";

fetch(API+"/predict",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({type:"text",data:text})
})
.then(r=>r.json())
.then(data=>{
if(data.prediction.includes("Trusted")){
aiResult.innerHTML="Real News";
aiResult.className="real";
}else{
aiResult.innerHTML="Fake News";
aiResult.className="fake";
}
})
.catch(()=>{
aiResult.innerHTML="Server Error";
aiResult.className="fake";
});
};

factBtn.onclick = ()=>{
let text = document.getElementById("newsText").value.trim();
if(!validate(text)) return;

fcCard.style.display="block";
fcResult.innerHTML="⏳ Checking...";

fetch(API+"/fact-check",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({type:"text",data:text})
})
.then(r=>r.json())
.then(data=>{
if(data.rating.toLowerCase().includes("trusted")){
fcResult.innerHTML="TRUSTED";
fcResult.className="real";
}else{
fcResult.innerHTML="UNVERIFIED";
fcResult.className="unverified";
}
})
.catch(()=>{
fcResult.innerHTML="Server Error";
fcResult.className="fake";
});
};

resetBtn.onclick = ()=>{
document.getElementById("newsText").value="";
aiCard.style.display="none";
fcCard.style.display="none";
};

document.getElementById("sendBtn").onclick = ()=>{
let name=document.getElementById("name");
let email=document.getElementById("email");
let message=document.getElementById("message");

if(!name.value || !email.value || !message.value){
alert("Fill all fields.");
return;
}

alert("Message sent successfully!");
name.value="";
email.value="";
message.value="";
};
</script>

</body>
</html>
